<!DOCTYPE html>
<html lang="ar">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Ù…Ø²Ø±Ø¹ØªÙŠ Ø§Ù„Ø­Ù‚ÙŠÙ‚ÙŠØ©</title>

<style>
body{
  margin:0;
  font-family:Arial;
  background:#5fa55a;
  text-align:center;
}

/* Ø§Ù„Ø´Ø±ÙŠØ· Ø§Ù„Ø¹Ù„ÙˆÙŠ */
#top{
  background:#2e7d32;
  color:white;
  padding:10px;
  font-size:18px;
}

/* Ø§Ù„Ù…Ø²Ø±Ø¹Ø© */
#farm{
  display:grid;
  grid-template-columns: repeat(5, 60px);
  gap:8px;
  justify-content:center;
  margin:20px auto;
}

/* Ù‚Ø·Ø¹ Ø§Ù„Ø£Ø±Ø¶ */
.plot{
  width:60px;
  height:60px;
  background:#6b4f2c; /* ØªØ±Ø¨Ø© Ø·ÙŠÙ†ÙŠØ© */
  border:2px solid #3a2a18;
  cursor:pointer;
}
.plot.seed{ background:#7a5c35; }
.plot.grow{ background:#4caf50; }
.plot.ready{ background:#2e7d32; }

/* Ø§Ù„Ø£Ø²Ø±Ø§Ø± */
button{
  padding:8px 14px;
  margin:5px;
  font-size:16px;
}

/* Ø§Ù„Ù…ØªØ¬Ø± */
#shop{
  background:#ffffffdd;
  padding:10px;
  margin:10px auto;
  width:260px;
  border-radius:8px;
}
</style>
</head>

<body>

<div id="top">
ğŸ’° Ø§Ù„Ø°Ù‡Ø¨: <span id="gold">100</span> |
ğŸ” Ø¯Ø¬Ø§Ø¬: <span id="chicken">0</span> |
ğŸ„ Ø¨Ù‚Ø±: <span id="cow">0</span>
</div>

<div id="farm"></div>

<div id="shop">
<h3>ğŸ›’ Ø§Ù„Ù…ØªØ¬Ø±</h3>
<button onclick="buyChicken()">ğŸ” Ø´Ø±Ø§Ø¡ Ø¯Ø¬Ø§Ø¬ (50)</button><br>
<button onclick="buyCow()">ğŸ„ Ø´Ø±Ø§Ø¡ Ø¨Ù‚Ø± (120)</button><br>
<button onclick="saveGame()">ğŸ’¾ Ø­ÙØ¸ Ø§Ù„Ù„Ø¹Ø¨Ø©</button>
</div>

<script>
// ====== Ø§Ù„Ø¨ÙŠØ§Ù†Ø§Øª ======
let gold = 100;
let chickens = 0;
let cows = 0;
let plots = [];

// ====== ØªØ­Ù…ÙŠÙ„ ======
function loadGame(){
  const data = JSON.parse(localStorage.getItem("farmSave"));
  if(data){
    gold = data.gold;
    chickens = data.chickens;
    cows = data.cows;
    plots = data.plots;
  }else{
    plots = Array(25).fill("empty");
  }
}

// ====== Ø­ÙØ¸ ======
function saveGame(){
  localStorage.setItem("farmSave", JSON.stringify({
    gold, chickens, cows, plots
  }));
  alert("ØªÙ… Ø­ÙØ¸ Ø§Ù„Ù„Ø¹Ø¨Ø© âœ”");
}

// ====== Ø±Ø³Ù… Ø§Ù„Ù…Ø²Ø±Ø¹Ø© ======
const farm = document.getElementById("farm");

function drawFarm(){
  farm.innerHTML="";
  plots.forEach((state,i)=>{
    const div=document.createElement("div");
    div.className="plot";
    if(state==="seed") div.classList.add("seed");
    if(state==="grow") div.classList.add("grow");
    if(state==="ready") div.classList.add("ready");

    div.onclick=()=>clickPlot(i);
    farm.appendChild(div);
  });

  document.getElementById("gold").textContent=gold;
  document.getElementById("chicken").textContent=chickens;
  document.getElementById("cow").textContent=cows;
}

// ====== ØªÙØ§Ø¹Ù„ Ø§Ù„Ø£Ø±Ø¶ ======
function clickPlot(i){
  if(plots[i]==="empty"){
    plots[i]="seed";
    setTimeout(()=>{ plots[i]="grow"; drawFarm(); },2000);
    setTimeout(()=>{ plots[i]="ready"; drawFarm(); },5000);
  }
  else if(plots[i]==="ready"){
    plots[i]="empty";
    gold += 10 + chickens*2 + cows*4; // Ø§Ù„Ø­ÙŠÙˆØ§Ù†Ø§Øª ØªØ²ÙˆØ¯ Ø§Ù„Ø¯Ø®Ù„
  }
  drawFarm();
}

// ====== Ø§Ù„Ù…ØªØ¬Ø± ======
function buyChicken(){
  if(gold>=50){
    gold-=50;
    chickens++;
    drawFarm();
  }else alert("Ø§Ù„Ø°Ù‡Ø¨ ØºÙŠØ± ÙƒØ§ÙÙŠ");
}

function buyCow(){
  if(gold>=120){
    gold-=120;
    cows++;
    drawFarm();
  }else alert("Ø§Ù„Ø°Ù‡Ø¨ ØºÙŠØ± ÙƒØ§ÙÙŠ");
}

// ====== ØªØ´ØºÙŠÙ„ ======
loadGame();
drawFarm();

// Ø­ÙØ¸ ØªÙ„Ù‚Ø§Ø¦ÙŠ ÙƒÙ„ Ø¯Ù‚ÙŠÙ‚Ø©
setInterval(saveGame,60000);
</script>

</body>
</html>
