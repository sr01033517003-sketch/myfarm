<!DOCTYPE html>
<html lang="ar" dir="rtl">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Ù…Ø²Ø±Ø¹Ø© Ø§Ù„Ø£Ø³Ø§Ø·ÙŠØ± - Ø§Ù„Ù†Ø³Ø®Ø© Ø§Ù„Ù…ØµØºØ±Ø©</title>
    <style>
        @import url('https://fonts.googleapis.com/css2?family=Cairo:wght@700;900&display=swap');
        
        * { box-sizing: border-box; }
        body { 
            background: #1a1a1a; /* Ø®Ù„ÙÙŠØ© Ø¯Ø§ÙƒÙ†Ø© Ù„Ø¥Ø¨Ø±Ø§Ø² Ø§Ù„Ø´Ø§Ø´Ø© Ø§Ù„Ù…ØµØºØ±Ø© */
            font-family: 'Cairo', sans-serif; 
            margin: 0; 
            height: 100vh; 
            display: flex; 
            align-items: center; 
            justify-content: center; /* ØªÙˆØ³ÙŠØ· Ø§Ù„Ù„Ø¹Ø¨Ø© ÙÙŠ Ø§Ù„Ø´Ø§Ø´Ø© */
            overflow: hidden;
        }

        /* Ø­Ø§ÙˆÙŠØ© Ø§Ù„Ù„Ø¹Ø¨Ø© Ø§Ù„Ù…ØµØºØ±Ø© (Ù…Ø«Ù„ Ù…Ù‚Ø§Ø³ Ø§Ù„Ø¬ÙˆØ§Ù„) */
        .game-container {
            width: 380px; /* Ø¹Ø±Ø¶ Ù…ØµØºØ± */
            height: 650px; /* Ø·ÙˆÙ„ Ù…Ù†Ø§Ø³Ø¨ */
            background: #2e7d32;
            border: 8px solid #1b5e20;
            border-radius: 40px;
            position: relative;
            display: flex;
            flex-direction: column;
            box-shadow: 0 20px 50px rgba(0,0,0,0.5);
            overflow: hidden;
        }

        /* Ø§Ù„Ø¹Ø¯Ø§Ø¯Ø§Øª Ø§Ù„Ø¹Ù„ÙˆÙŠØ© */
        .top-bar { 
            background: #1b5e20; 
            padding: 10px; 
            display: grid;
            grid-template-columns: 1fr 1fr;
            gap: 5px;
            border-bottom: 3px solid #ffd700;
            z-index: 10;
        }
        .stat-item { 
            background: rgba(255,255,255,0.1); 
            padding: 4px; 
            border-radius: 8px; 
            font-size: 11px; 
            text-align: center;
            color: white;
            border: 1px solid #ffd700;
        }

        /* Ù…Ù†Ø·Ù‚Ø© Ø§Ù„Ø²Ø±Ø§Ø¹Ø© ÙÙŠ ÙˆØ³Ø· Ø§Ù„Ø´Ø§Ø´Ø© */
        .middle-game {
            flex: 1;
            display: flex;
            flex-direction: column;
            align-items: center;
            justify-content: center; /* ØªÙˆØ³ÙŠØ· Ø§Ù„Ù…Ø­ØªÙˆÙ‰ Ø¯Ø§Ø®Ù„ÙŠØ§Ù‹ */
            padding: 10px;
            gap: 15px;
        }

        .pen { width: 100%; height: 120px; background: rgba(255,255,255,0.1); border: 2px dashed #fff; border-radius: 15px; position: relative; }
        
        /* Ø´Ø¨ÙƒØ© Ø§Ù„Ø²Ø±Ø§Ø¹Ø© ÙÙŠ Ø§Ù„Ù…Ù†ØªØµÙ */
        .grid { 
            display: grid; 
            grid-template-columns: repeat(3, 70px); /* 3 Ø£Ø¹Ù…Ø¯Ø© Ù„ØªÙ†Ø§Ø³Ø¨ Ø§Ù„Ø­Ø¬Ù… Ø§Ù„Ù…ØµØºØ± */
            gap: 8px; 
            background: #5d4037; 
            padding: 10px; 
            border-radius: 15px;
            border: 4px solid #3e2723;
        }
        .plot { width: 70px; height: 70px; background: #6d4c41; border: 1px solid #3e2723; border-radius: 8px; cursor: pointer; position: relative; display: flex; align-items: center; justify-content: center; font-size: 25px; }
        .timer { position: absolute; bottom: 0; width: 100%; background: #000; color: #0f0; font-size: 9px; text-align: center; }

        /* Ø§Ù„Ù…ØªØ¬Ø± ÙˆØ§Ù„Ø¯Ø±Ø¯Ø´Ø© Ø¨Ø§Ù„Ø£Ø³ÙÙ„ */
        .bottom-section {
            background: #e0f2f1;
            padding: 10px;
            border-top: 3px solid #00897B;
        }

        .shop-row { display: flex; gap: 5px; margin-bottom: 8px; }
        .shop-btn { flex: 1; padding: 6px; font-size: 11px; background: #ef6c00; color: white; border: none; border-radius: 5px; cursor: pointer; font-family: 'Cairo'; font-weight: bold; }

        .chat-area { 
            height: 80px; background: white; border-radius: 5px; 
            padding: 5px; overflow-y: auto; color: #333; font-size: 11px;
            border: 1px solid #ccc; margin-bottom: 5px;
        }
        .chat-input-row { display: flex; gap: 3px; }
        .chat-input-row input { flex: 1; font-size: 11px; padding: 4px; border-radius: 4px; border: 1px solid #ddd; }

        .chicken { position: absolute; width: 50px; transition: all 3s linear; }
        .sell-btn { background: #1565C0; color: white; width: 100%; padding: 8px; border-radius: 10px; border: none; font-weight: bold; cursor: pointer; margin-top: 5px; }

        #login { position: absolute; inset: 0; background: #1b5e20; z-index: 100; display: flex; align-items: center; justify-content: center; border-radius: 32px; }
        .hidden { display: none !important; }
    </style>
</head>
<body>

<div class="game-container">
    <div id="login">
        <div style="background:white; padding:20px; border-radius:15px; text-align:center; color:#333; width: 80%;">
            <h4>ğŸŒ¾ Ù…Ø²Ø±Ø¹Ø© Ø§Ù„Ø£Ø³Ø§Ø·ÙŠØ±</h4>
            <input type="text" id="uname" placeholder="Ø£Ø¯Ø®Ù„ Ø§Ø³Ù…Ùƒ" style="padding:8px; width: 100%; font-family:'Cairo';"><br><br>
            <button onclick="start()" class="shop-btn" style="width:100%">Ø¯Ø®ÙˆÙ„ Ø§Ù„Ù„Ø¹Ø¨Ø©</button>
        </div>
    </div>

    <div class="top-bar">
        <div class="stat-item">ğŸ’° Ø°Ù‡Ø¨: <span id="g-val">1000</span></div>
        <div class="stat-item">ğŸ¥š Ø¨ÙŠØ¶: <span id="e-val">0</span></div>
        <div class="stat-item">ğŸŒ± Ø¨Ø°ÙˆØ±: <span id="s-val">5</span></div>
        <div class="stat-item">ğŸŒ¾ Ø­ØµØ§Ø¯: <span id="c-val">0</span></div>
    </div>

    <div class="middle-game">
        <div class="pen" id="pen"></div>
        <div class="grid" id="grid"></div>
        <button class="sell-btn" onclick="sell()">ğŸ’° Ø¥ÙŠØ¹Ø§Ù† (Ø¨ÙŠØ¹ Ø§Ù„ÙƒÙ„)</button>
    </div>

    <div class="bottom-section">
        <div class="shop-row">
            <button class="shop-btn" onclick="buy('seed', 50)">ğŸŒ± Ø¨Ø°ÙˆØ± (50)</button>
            <button class="shop-btn" onclick="buy('chicken', 200)">ğŸ¥ Ø¯Ø¬Ø§Ø¬Ø© (200)</button>
        </div>
        <div class="chat-area" id="chat">
            <div>Ø§Ù„Ù†Ø¸Ø§Ù…: Ù…Ø±Ø­Ø¨Ø§Ù‹ Ø¨Ùƒ ÙÙŠ Ø§Ù„Ù†Ø³Ø®Ø© Ø§Ù„Ù…ØµØºØ±Ø©!</div>
        </div>
        <div class="chat-input-row">
            <input type="text" id="chat-in" placeholder="Ø§ÙƒØªØ¨ Ø±Ø³Ø§Ù„Ø©...">
            <button onclick="send()" style="background:#00897B; color:white; border:none; padding:4px 10px; border-radius:4px; font-size:10px;">Ø¥Ø±Ø³Ø§Ù„</button>
        </div>
    </div>
</div>

<script>
    let farm = { gold: 1000, eggs: 0, seeds: 5, crops: 0, chickens: 0 };
    const CHICKEN_IMG = "https://m.media-amazon.com/images/I/41-N7X0-1lL._AC_.jpg";

    function start() {
        if(!document.getElementById('uname').value) return;
        document.getElementById('login').classList.add('hidden');
        init();
        setInterval(move, 3000);
        setInterval(() => { if(farm.chickens > 0) { farm.eggs += farm.chickens; update(); } }, 10000);
    }

    function init() {
        const g = document.getElementById('grid');
        for(let i=0; i<9; i++) { // 9 Ù…Ø±Ø¨Ø¹Ø§Øª Ù„ØªÙ†Ø§Ø³Ø¨ Ø§Ù„Ø­Ø¬Ù… Ø§Ù„Ù…ØµØºØ±
            let p = document.createElement('div');
            p.className = 'plot';
            p.onclick = () => plant(p);
            g.appendChild(p);
        }
    }

    function plant(p) {
        if(p.innerHTML === "" && farm.seeds > 0) {
            farm.seeds--; p.innerHTML = "ğŸŒ±";
            let time = 180;
            let t = document.createElement('div'); t.className = 'timer'; p.appendChild(t);
            update();
            let count = setInterval(() => {
                time--;
                t.innerText = `${Math.floor(time/60)}:${time%60 < 10 ? '0'+time%60 : time%60}`;
                if(time <= 0) {
                    clearInterval(count); p.innerHTML = "ğŸŒ¿";
                    p.onclick = () => { farm.crops++; p.innerHTML = ""; p.onclick = () => plant(p); update(); };
                }
            }, 1000);
        }
    }

    function buy(item, price) {
        if(farm.gold >= price) {
            farm.gold -= price;
            if(item === 'seed') farm.seeds += 5;
            if(item === 'chicken') {
                farm.chickens++;
                let i = document.createElement('img'); i.src = CHICKEN_IMG; i.className = 'chicken';
                i.style.left = "40%"; i.style.top = "40%";
                document.getElementById('pen').appendChild(i);
            }
            update();
            msg("Ø§Ù„Ù†Ø¸Ø§Ù…", `ØªÙ… Ø´Ø±Ø§Ø¡ ${item}`);
        } else { alert("Ø§Ù„Ø°Ù‡Ø¨ Ù„Ø§ ÙŠÙƒÙÙŠ!"); }
    }

    function move() {
        let cs = document.getElementsByClassName('chicken');
        for(let c of cs) { c.style.left = Math.random()*70+"%"; c.style.top = Math.random()*60+"%"; }
    }

    function sell() {
        let total = (farm.eggs * 20) + (farm.crops * 60);
        if(total > 0) {
            farm.gold += total; farm.eggs = 0; farm.crops = 0;
            update();
            msg("Ø£Ù†Øª", `Ø¨Ø¹Øª Ø§Ù„Ø¥Ù†ØªØ§Ø¬ ÙˆØ±Ø¨Ø­Øª ${total} ğŸ’°`);
        }
    }

    function send() {
        let i = document.getElementById('chat-in');
        if(i.value) { msg("Ø£Ù†Øª", i.value); i.value = ""; }
    }

    function msg(u, t) {
        let c = document.getElementById('chat');
        c.innerHTML += `<div><b>${u}:</b> ${t}</div>`;
        c.scrollTop = c.scrollHeight;
    }

    function update() {
        document.getElementById('g-val').innerText = farm.gold;
        document.getElementById('e-val').innerText = farm.eggs;
        document.getElementById('s-val').innerText = farm.seeds;
        document.getElementById('c-val').innerText = farm.crops;
    }
</script>
</body>
</html>
