<!DOCTYPE html>
<html lang="ar" dir="rtl">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Ù…Ø²Ø±Ø¹Ø© Ø§Ù„Ø£Ø³Ø§Ø·ÙŠØ± Ø§Ù„Ø¹Ø±Ø¨ÙŠØ© - Ø§Ù„Ù†Ø³Ø®Ø© Ø§Ù„ÙƒØ¨Ø±Ù‰</title>
    <style>
        @import url('https://fonts.googleapis.com/css2?family=Cairo:wght@700;900&display=swap');
        
        * { box-sizing: border-box; }
        body { 
            background: #2e7d32; 
            font-family: 'Cairo', sans-serif; 
            margin: 0; 
            height: 100vh; 
            display: flex; 
            flex-direction: column; 
            color: #fff;
            overflow: hidden;
        }

        /* Ø´Ø±ÙŠØ· Ø§Ù„Ø¹Ø¯Ø§Ø¯Ø§Øª Ø§Ù„Ø¹Ù„ÙˆÙŠ - Ø¹Ø±ÙŠØ¶ ÙˆÙ…Ù†Ø¸Ù… */
        .top-stats { 
            background: #1b5e20; 
            height: 80px; 
            display: flex; 
            justify-content: space-around; 
            align-items: center; 
            border-bottom: 5px solid #ffd700;
            box-shadow: 0 4px 15px rgba(0,0,0,0.3);
            z-index: 100;
        }
        .stat-card { 
            background: rgba(255,255,255,0.15); 
            padding: 10px 25px; 
            border-radius: 15px; 
            border: 2px solid #ffd700; 
            font-size: 18px; 
            font-weight: 900;
            display: flex;
            align-items: center;
            gap: 10px;
        }

        .main-world { 
            flex: 1; 
            display: flex; 
            padding: 20px;
            gap: 20px;
            background: #4caf50;
        }

        /* Ø§Ù„Ù‚Ø§Ø¦Ù…Ø© Ø§Ù„Ø¬Ø§Ù†Ø¨ÙŠØ© Ù„Ù„Ù…ØªØ¬Ø± */
        .shop-sidebar { 
            width: 250px; 
            background: #B2DFDB; 
            border-radius: 20px;
            padding: 20px;
            display: flex;
            flex-direction: column;
            gap: 15px;
            border: 4px solid #00897B;
            color: #004D40;
        }
        .item-btn { 
            width: 100%; padding: 15px; border: none; 
            background: #ef6c00; color: white; border-radius: 12px; 
            font-weight: bold; cursor: pointer; font-family: 'Cairo';
            font-size: 16px; box-shadow: 0 4px #bf360c;
        }
        .item-btn:active { transform: translateY(2px); box-shadow: 0 2px #bf360c; }

        /* Ù…Ù†Ø·Ù‚Ø© Ø§Ù„Ù„Ø¹Ø¨ Ø§Ù„Ù…Ø±ÙƒØ²ÙŠØ© */
        .center-farm { 
            flex: 1; 
            display: flex; 
            flex-direction: column; 
            align-items: center; 
            justify-content: center;
            gap: 30px;
        }

        /* Ø­Ù‚Ù„ Ø§Ù„Ø²Ø±Ø§Ø¹Ø© ÙÙŠ Ø§Ù„Ù…Ù†ØªØµÙ */
        .crop-field { 
            background: #5d4037; 
            padding: 30px; 
            border-radius: 25px; 
            border: 10px solid #3e2723;
            display: grid; 
            grid-template-columns: repeat(4, 100px); 
            gap: 15px;
            box-shadow: 0 10px 30px rgba(0,0,0,0.4);
        }
        .soil-plot { 
            width: 100px; height: 100px; background: #6d4c41; 
            border-radius: 15px; cursor: pointer; position: relative; 
            display: flex; align-items: center; justify-content: center; 
            font-size: 45px; border: 2px solid #3e2723;
        }
        .soil-plot:hover { background: #795548; }
        .grow-timer { position: absolute; bottom: 0; width: 100%; background: #000; color: #0f0; font-size: 12px; text-align: center; border-radius: 0 0 13px 13px; }

        /* Ø³Ø§Ø­Ø© Ø§Ù„Ø¯Ø¬Ø§Ø¬ */
        .chicken-pen { 
            width: 90%; height: 200px; background: rgba(255,255,255,0.1); 
            border: 4px dashed #fff; border-radius: 30px; position: relative;
        }
        .chicken-entity { position: absolute; width: 85px; transition: all 3s linear; filter: drop-shadow(4px 4px 8px rgba(0,0,0,0.3)); }

        /* Ø§Ù„Ø¯Ø±Ø¯Ø´Ø© ÙÙŠ Ø§Ù„Ø£Ø³ÙÙ„ */
        .bottom-chat-box { 
            background: #e0f2f1; 
            height: 150px; 
            border-top: 5px solid #00897B; 
            display: flex; 
            padding: 15px; 
            gap: 15px;
        }
        .chat-logs { 
            flex: 1; background: white; border-radius: 12px; 
            padding: 10px; overflow-y: auto; color: #333; 
            border: 2px solid #ccc; font-size: 14px;
        }
        .chat-form { width: 250px; display: flex; flex-direction: column; gap: 10px; }
        .chat-form input { padding: 10px; border-radius: 8px; border: 1px solid #ccc; font-family: 'Cairo'; }

        .sell-action-btn { 
            background: #1565C0; color: white; padding: 15px 50px; 
            border-radius: 50px; border: none; font-size: 22px; 
            font-weight: 900; cursor: pointer; box-shadow: 0 6px #0D47A1;
        }

        #splash-screen { position: fixed; inset: 0; background: #1b5e20; z-index: 1000; display: flex; align-items: center; justify-content: center; }
        .hidden { display: none !important; }
    </style>
</head>
<body>

<div id="splash-screen">
    <div style="background:white; padding:50px; border-radius:30px; text-align:center; color:#333; box-shadow: 0 10px 40px rgba(0,0,0,0.5);">
        <h1 style="color:#2e7d32; margin-bottom:10px;">ğŸšœ Ù…Ø²Ø±Ø¹Ø© Ø§Ù„Ø£Ø³Ø§Ø·ÙŠØ± Ø§Ù„Ø¹Ø±Ø¨ÙŠØ©</h1>
        <p>Ù‚Ù… Ø¨Ø²Ø±Ø§Ø¹Ø© Ù…Ø­Ø§ØµÙŠÙ„Ùƒ ÙˆØªØ±Ø¨ÙŠØ© Ø·ÙŠÙˆØ±Ùƒ ÙÙŠ Ø£ÙƒØ¨Ø± Ù…Ø²Ø±Ø¹Ø©</p>
        <input type="text" id="player-name" placeholder="Ø§ÙƒØªØ¨ Ø§Ø³Ù…Ùƒ Ù‡Ù†Ø§..." style="padding:15px; width:300px; font-family:'Cairo'; border:2px solid #2e7d32; border-radius:12px; font-size:18px; text-align:center;"><br><br>
        <button onclick="initGame()" class="item-btn" style="background:#2e7d32; font-size:20px; width:200px;">Ø¯Ø®ÙˆÙ„ Ø§Ù„Ù…Ø²Ø±Ø¹Ø©</button>
    </div>
</div>

<div class="top-stats">
    <div class="stat-card">ğŸ’° Ø§Ù„Ø°Ù‡Ø¨: <span id="gold-val">1000</span></div>
    <div class="stat-card">ğŸ¥š Ø§Ù„Ø¨ÙŠØ¶: <span id="egg-val">0</span></div>
    <div class="stat-card">ğŸŒ± Ø§Ù„Ø¨Ø°ÙˆØ± Ø§Ù„Ù…ØªÙˆÙØ±Ø©: <span id="seed-val">5</span></div>
    <div class="stat-card">ğŸŒ¾ Ø§Ù„Ù…Ø­ØµÙˆÙ„ Ø§Ù„Ø¬Ø§Ù‡Ø²: <span id="crop-val">0</span></div>
</div>

<div class="main-world">
    <div class="shop-sidebar">
        <h2 style="text-align:center; margin-top:0;">ğŸ›’ Ø§Ù„Ù…ØªØ¬Ø±</h2>
        <button class="item-btn" onclick="shopAction('seed', 50)">ğŸŒ± Ø´Ø±Ø§Ø¡ Ø¨Ø°ÙˆØ± (50 Ø°Ù‡Ø¨Ø©)</button>
        <button class="item-btn" onclick="shopAction('chicken', 200)">ğŸ¥ Ø´Ø±Ø§Ø¡ Ø¯Ø¬Ø§Ø¬Ø© (200 Ø°Ù‡Ø¨Ø©)</button>
        <div style="margin-top:auto;">
            <p style="font-size:12px; text-align:center;">* Ø§Ù„Ø¯Ø¬Ø§Ø¬ ÙŠÙ†ØªØ¬ Ø¨ÙŠØ¶Ø§Ù‹ ØªÙ„Ù‚Ø§Ø¦ÙŠØ§Ù‹<br>* Ø§Ù„Ø²Ø±Ø§Ø¹Ø© ØªØ³ØªØºØ±Ù‚ 3 Ø¯Ù‚Ø§Ø¦Ù‚</p>
        </div>
    </div>

    <div class="center-farm">
        <div class="chicken-pen" id="pen-area">
            <h3 style="position:absolute; top:-40px; right:20px;">ğŸ” Ø³Ø§Ø­Ø© Ø§Ù„Ø¯ÙˆØ§Ø¬Ù†</h3>
        </div>

        <div class="crop-field" id="farm-grid">
            </div>

        <button class="sell-action-btn" onclick="sellEverything()">ğŸ’° Ø¥ÙŠØ¹Ø§Ù† (Ø¨ÙŠØ¹ ÙƒÙ„ Ø§Ù„Ù…Ø­ØµÙˆÙ„ ÙˆØ§Ù„Ø¥Ù†ØªØ§Ø¬)</button>
    </div>
</div>

<div class="bottom-chat-box">
    <div class="chat-logs" id="chat-logs">
        <div><b>Ø§Ù„Ù†Ø¸Ø§Ù…:</b> Ù…Ø±Ø­Ø¨Ø§Ù‹ Ø¨Ùƒ ÙÙŠ Ø§Ù„Ù…Ø²Ø±Ø¹Ø© Ø§Ù„ÙƒØ¨Ø±Ù‰! Ø§Ø¨Ø¯Ø£ Ø¨Ø§Ù„Ø²Ø±Ø§Ø¹Ø© Ø§Ù„Ø¢Ù†.</div>
    </div>
    <div class="chat-form">
        <h4 style="margin:0; color:#004D40;">ğŸ’¬ Ø§Ù„Ø¯Ø±Ø¯Ø´Ø©</h4>
        <input type="text" id="msg-input" placeholder="Ø§ÙƒØªØ¨ Ø±Ø³Ø§Ù„Ø© Ù„Ù„Ø¬Ù…ÙŠØ¹...">
        <button onclick="postChat()" class="item-btn" style="padding:8px; font-size:14px; background:#00897B; box-shadow: 0 4px #004D40;">Ø¥Ø±Ø³Ø§Ù„</button>
    </div>
</div>

<script>
    let farm = { gold: 1000, eggs: 0, seeds: 5, crops: 0, chickens: 0 };
    const REAL_CHICKEN_URL = "https://m.media-amazon.com/images/I/41-N7X0-1lL._AC_.jpg";

    function initGame() {
        if(!document.getElementById('player-name').value) return alert("ÙŠØ±Ø¬Ù‰ Ø¥Ø¯Ø®Ø§Ù„ Ø§Ø³Ù…Ùƒ");
        document.getElementById('splash-screen').classList.add('hidden');
        createGrid();
        setInterval(moveAnimals, 3000);
        setInterval(() => { 
            if(farm.chickens > 0) { 
                farm.eggs += farm.chickens; 
                updateUI(); 
            } 
        }, 10000);
    }

    function createGrid() {
        const grid = document.getElementById('farm-grid');
        for(let i=0; i<12; i++) {
            let p = document.createElement('div');
            p.className = 'soil-plot';
            p.onclick = () => startPlanting(p);
            grid.appendChild(p);
        }
    }

    function startPlanting(p) {
        if(p.innerHTML === "" && farm.seeds > 0) {
            farm.seeds--; 
            p.innerHTML = "ğŸŒ±";
            let time = 180; // 3 Ø¯Ù‚Ø§Ø¦Ù‚
            let lbl = document.createElement('div');
            lbl.className = 'grow-timer';
            p.appendChild(lbl);
            updateUI();

            let countdown = setInterval(() => {
                time--;
                let m = Math.floor(time/60), s = time%60;
                lbl.innerText = `${m}:${s < 10 ? '0'+s : s}`;
                if(time <= 0) {
                    clearInterval(countdown);
                    p.innerHTML = "ğŸŒ¿"; // Ù†Ø¶Ø¬ Ø§Ù„Ù…Ø­ØµÙˆÙ„
                    p.onclick = () => { 
                        farm.crops++; 
                        p.innerHTML = ""; 
                        p.onclick = () => startPlanting(p); 
                        updateUI(); 
                        addToChat("Ø£Ù†Øª", "Ù„Ù‚Ø¯ Ù‚Ù…Øª Ø¨Ø­ØµØ§Ø¯ Ø­Ø²Ù…Ø© Ù…Ù† Ø§Ù„Ø¨Ø±Ø³ÙŠÙ…!");
                    };
                }
            }, 1000);
        } else if (farm.seeds <= 0 && p.innerHTML === "") {
            alert("Ù„Ø§ ØªÙˆØ¬Ø¯ Ø¨Ø°ÙˆØ±! Ø§Ø·Ù„Ø¨ Ù…Ù† Ø§Ù„Ù…ØªØ¬Ø±.");
        }
    }

    function shopAction(item, cost) {
        if(farm.gold >= cost) {
            farm.gold -= cost;
            if(item === 'seed') farm.seeds += 5;
            if(item === 'chicken') {
                farm.chickens++;
                let img = document.createElement('img');
                img.src = REAL_CHICKEN_URL;
                img.className = 'chicken-entity';
                img.style.left = "50%"; img.style.top = "50%";
                document.getElementById('pen-area').appendChild(img);
            }
            updateUI();
            addToChat("Ø§Ù„Ù…ØªØ¬Ø±", `Ù…Ø¨Ø±ÙˆÙƒ! ØªÙ… Ø´Ø±Ø§Ø¡ ${item === 'seed' ? 'Ø¨Ø°ÙˆØ±' : 'Ø¯Ø¬Ø§Ø¬Ø©'}.`);
        } else {
            alert("Ø§Ù„Ø°Ù‡Ø¨ Ù„Ø§ ÙŠÙƒÙÙŠ!");
        }
    }

    function moveAnimals() {
        let chickens = document.getElementsByClassName('chicken-entity');
        for(let c of chickens) {
            c.style.left = Math.random() * 85 + "%";
            c.style.top = Math.random() * 65 + "%";
        }
    }

    function sellEverything() {
        let profit = (farm.eggs * 25) + (farm.crops * 70);
        if(profit > 0) {
            farm.gold += profit;
            farm.eggs = 0; 
            farm.crops = 0;
            updateUI();
            addToChat("Ø£Ù†Øª", `Ø¨Ø¹Øª ÙƒÙ„ Ø´ÙŠØ¡ ÙˆØ±Ø¨Ø­Øª ${profit} Ø°Ù‡Ø¨Ø©!`);
            alert("ØªÙ… Ø¨ÙŠØ¹ Ø§Ù„Ø¥Ù†ØªØ§Ø¬ ÙˆØ±Ø¨Ø­ " + profit + " ğŸ’°");
        } else {
            alert("Ù„Ø§ ÙŠÙˆØ¬Ø¯ Ø¥Ù†ØªØ§Ø¬ Ù„Ø¨ÙŠØ¹Ù‡ Ø­Ø§Ù„ÙŠØ§Ù‹!");
        }
    }

    function postChat() {
        let input = document.getElementById('msg-input');
        if(input.value) {
            addToChat("Ø£Ù†Øª", input.value);
            input.value = "";
        }
    }

    function addToChat(user, text) {
        let logs = document.getElementById('chat-logs');
        logs.innerHTML += `<div><b>${user}:</b> ${text}</div>`;
        logs.scrollTop = logs.scrollHeight;
    }

    function updateUI() {
        document.getElementById('gold-val').innerText = farm.gold;
        document.getElementById('egg-val').innerText = farm.eggs;
        document.getElementById('seed-val').innerText = farm.seeds;
        document.getElementById('crop-val').innerText = farm.crops;
    }
</script>
</body>
</html>
